---
import "@styles/global.css";
import "@styles/animations.css";

interface Props {
  title?: string;
  description?: string;
  lang?: "en" | "fr";
}

const {
  title = "Ryan PINA-SILASSE | Software Engineer",
  description = "Software Engineer specialized in React and Go. Based in Quebec, seeking opportunities in Toronto and across Canada. 5+ years experience in web development, mobile apps, and full stack development.",
  lang = "en",
} = Astro.props;

const canonicalURL = Astro.site
  ? new URL(Astro.url.pathname, Astro.site)
  : `${Astro.url.origin}${Astro.url.pathname}`;

// Hreflang URLs
const currentPath = Astro.url.pathname;
const enURL = currentPath.startsWith("/fr/")
  ? new URL(currentPath.replace("/fr/", "/"), Astro.site || Astro.url.origin)
  : new URL(currentPath, Astro.site || Astro.url.origin);
const frURL = currentPath.startsWith("/fr/")
  ? new URL(currentPath, Astro.site || Astro.url.origin)
  : new URL(`/fr${currentPath}`, Astro.site || Astro.url.origin);

// Schema.org JSON-LD
const schemaData = {
  "@context": "https://schema.org",
  "@type": "Person",
  name: "Ryan PINA-SILASSE",
  jobTitle: "Software Engineer",
  url: Astro.site?.toString() || Astro.url.origin,
  sameAs: [
    "https://github.com/N95Ryan",
    "https://linkedin.com/in/ryan-pina",
    "https://x.com/BigNayru",
    "https://www.linkedin.com/in/ryan-pina-silasse-7b2b33211/",
  ],
  address: {
    "@type": "PostalAddress",
    addressLocality: "Drummondville",
    addressRegion: "QC",
    addressCountry: "CA",
  },
  knowsAbout: [
    "React",
    "Go",
    "Next.js",
    "TypeScript",
    "Expo",
    "React Native",
    "Full Stack Development",
    "Tailwind CSS",
    "GraphQL",
    "WordPress",
    "Cloudinary",
    "Playwright",
    "Docker",
    "GitHub Actions",
    "Vercel",
  ],
  alumniOf: "Software Engineering",
};
---

<!doctype html>
<html lang={lang}>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content={Astro.generator} />

    <!-- SEO -->
    <title>{title}</title>
    <meta name="description" content={description} />
    <meta
      name="keywords"
      content="Ryan PINA-SILASSE, Software Engineer Toronto, React Developer Canada, Go Developer Toronto, Golang Developer, Full Stack Developer Ontario, TypeScript Developer, Next.js Developer, Node.js Developer, Express Developer, Python Developer, React Native Developer, Expo Developer, Mobile Developer Canada, Frontend Developer Toronto, Backend Engineer Toronto, Web Developer Quebec, Astro Developer, PostgreSQL Developer, Docker Engineer, GraphQL Developer, Tailwind CSS Developer, Supabase Developer, Cloudinary Developer, Echo Framework, Gin Framework, Vercel, Canada, Freelance Developer Toronto, Remote Developer Canada, Software Engineer Quebec, Drummondville Developer, Available Developer Toronto, Contract Developer Ontario, Web Development Services Canada, React Expert Toronto, Go Lang Developer, TypeScript Expert, Full Stack Engineer Canada, Mobile App Developer, API Developer Toronto, Cloud Developer Canada"
    />
    <meta name="author" content="Ryan PINA-SILASSE" />
    <meta
      name="google-site-verification"
      content="hD4SETMM_ap0JLg82dzOFSJOmB2H7GrOIOjxWf_8L-U"
    />
    <link rel="canonical" href={canonicalURL} />

    <!-- Hreflang for multilingual -->
    <link rel="alternate" hreflang="en" href={enURL} />
    <link rel="alternate" hreflang="fr" href={frURL} />
    <link rel="alternate" hreflang="x-default" href={enURL} />

    <!-- Geo tags -->
    <meta name="geo.region" content="CA-QC" />
    <meta name="geo.placename" content="Drummondville" />
    <meta name="geo.position" content="45.888179;-72.483898" />
    <meta name="ICBM" content="45.888179, -72.483898" />

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={canonicalURL} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:site_name" content="Ryan PINA-SILASSE Portfolio" />
    <meta property="og:locale" content={lang === "fr" ? "fr_CA" : "en_CA"} />
    <meta
      property="og:locale:alternate"
      content={lang === "fr" ? "en_CA" : "fr_CA"}
    />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />

    <!-- Schema.org JSON-LD -->
    <script type="application/ld+json" set:html={JSON.stringify(schemaData)} />

    <!-- Favicons -->
    <link rel="icon" href="/favicon.ico" />

    <!-- Fonts (optionnel - ajouter vos polices ici) -->
  </head>
  <body>
    <slot />
    <script>
      import { inject } from "@vercel/analytics";
      inject();
    </script>
  </body>
</html>
