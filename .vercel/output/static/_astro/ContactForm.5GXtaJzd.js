import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r}from"./index.DYrVU9rO.js";function _({lang:v,translations:d}){const a=d.form,l=d.messages,[c,m]=r.useState(""),[g,x]=r.useState(""),[f,b]=r.useState(""),[h,p]=r.useState(""),[j,y]=r.useState(""),[w,n]=r.useState(""),[o,N]=r.useState(!1),S=async t=>{t.preventDefault(),y(""),n(""),N(!0);try{console.log("Envoi de la requête au serveur...");const s=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c,email:g,subject:f,message:h,lang:v})});console.log("Réponse reçue - Status:",s.status,s.statusText);let u;try{u=await s.json()}catch(i){console.error("Erreur lors du parsing de la réponse JSON:",i),n(l.error_email_send);return}if(s.ok)y(l.success),m(""),x(""),b(""),p("");else{const i=u?.message||l.error_email_send;console.error("Erreur API - Status:",s.status),console.error("Erreur API - Message:",i),console.error("Erreur API - Données complètes:",u),n(i)}}catch(s){console.error("Erreur lors de l'envoi du formulaire:",s),n(l.error_email_send)}finally{N(!1)}};return e.jsxs("div",{className:"w-full p-6 bg-gray-900 bg-opacity-50 rounded-lg shadow-lg",children:[e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"name",className:"text-lg font-medium text-white mb-2",children:a.name}),e.jsx("input",{id:"name",type:"text",value:c,onChange:t=>m(t.target.value),className:"w-full p-3 bg-gray-800 text-white border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,disabled:o})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"email",className:"text-lg font-medium text-white mb-2",children:a.email}),e.jsx("input",{id:"email",type:"email",value:g,onChange:t=>x(t.target.value),className:"w-full p-3 bg-gray-800 text-white border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,disabled:o})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"subject",className:"text-lg font-medium text-white mb-2",children:a.subject}),e.jsx("input",{id:"subject",type:"text",value:f,onChange:t=>b(t.target.value),className:"w-full p-3 bg-gray-800 text-white border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,disabled:o})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"message",className:"text-lg font-medium text-white mb-2",children:a.message}),e.jsx("textarea",{id:"message",value:h,onChange:t=>p(t.target.value),className:"w-full p-3 bg-gray-800 text-white border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",rows:5,required:!0,disabled:o})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"...":a.send})]}),j&&e.jsx("p",{className:"mt-6 text-center text-green-400 font-medium",children:j}),w&&e.jsx("p",{className:"mt-6 text-center text-red-400 font-medium",children:w})]})}export{_ as default};
